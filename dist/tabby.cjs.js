"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}Object.defineProperty(exports,"__esModule",{value:!0});var ATTRIBUTE_ACTIVE="data-tabby-active",ATTRIBUTE_BAR="data-tabby-bar",ATTRIBUTE_CONTENT="data-tabby-content",getSiblings=function(t){var e=[t],i=t.nextElementSibling;if(!i)return e;for(;i;)e.push(i),i=i.nextElementSibling;return e},show=function(t){t.style.display="block"},hide=function(t){t.style.display="none"},fadeOut=function(t,e){var i=t,n=1,a=.05;requestAnimationFrame(function t(){0<n?(n-=a,i.style.opacity=n.toString(),requestAnimationFrame(t)):(cancelAnimationFrame(t),e&&e(i))})},fadeIn=function(t,e){var i=t,n=0,a=.05;requestAnimationFrame(function t(){n<1?(n+=a,i.style.opacity=n.toString(),requestAnimationFrame(t)):(cancelAnimationFrame(t),e&&e(i))})},Tabby=function(){function i(t,e){_classCallCheck(this,i),this.container=t,this.animation=e.animation||"fade",this.index=0,this.items=[],this.initTabs()}return _createClass(i,[{key:"doSwitch",value:function(t){var e=this.items[this.index][1],i=this.items[t][1],n=this.items[this.index][0],a=this.items[t][0];this.animation?fadeOut(e,function(){hide(e),show(i),fadeIn(i),n.removeAttribute(ATTRIBUTE_ACTIVE),a.setAttribute(ATTRIBUTE_ACTIVE,"")}):(hide(e),show(i),n.removeAttribute(ATTRIBUTE_ACTIVE),a.setAttribute(ATTRIBUTE_ACTIVE,"")),this.index=t}},{key:"initTabs",value:function(){var a=this,t=getSiblings(this.container.querySelector("[".concat(ATTRIBUTE_BAR,"]"))),r=getSiblings(this.container.querySelector("[".concat(ATTRIBUTE_CONTENT,"]")));t.forEach(function(t,e){var i=t.getAttribute(ATTRIBUTE_BAR),n=r.filter(function(t){return t.getAttribute(ATTRIBUTE_CONTENT)===i})[0];n.style.opacity=0===e?(n.style.display="block","1"):(n.style.display="none","0"),a.items.push([t,n]),t.addEventListener("click",function(){a.doSwitch(e)})})}}]),i}(),version="3.0.0-beta",init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return[].slice.call(document.querySelectorAll("[data-tabby]")).map(function(t){return new Tabby(t,e)})};exports.version=version,exports.init=init;
